From c3553c4527630c044ef1f8a8b40c3f8109641871 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 6 Jul 2013 17:41:57 -0400
Subject: [PATCH] Check permissions on commands before executing them

---
 src/main/java/org/bukkit/command/SimpleCommandMap.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/main/java/org/bukkit/command/SimpleCommandMap.java b/src/main/java/org/bukkit/command/SimpleCommandMap.java
index 4c3e421..e706fcc 100644
--- a/src/main/java/org/bukkit/command/SimpleCommandMap.java
+++ b/src/main/java/org/bukkit/command/SimpleCommandMap.java
@@ -184,6 +184,7 @@ public class SimpleCommandMap implements CommandMap {
         if (target == null) {
             return false;
         }
+        if (!target.testPermission(sender)) return true; // EMC
 
         try {
             // Note: we don't return the result of target.execute as thats success / failure, we return handled (true) or not handled (false)
-- 
1.8.3.2

