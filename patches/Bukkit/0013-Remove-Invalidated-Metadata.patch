From 05621c65e7be8a770d0d79db9d396b8770b27c0a Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 16 Jul 2013 21:26:50 -0400
Subject: [PATCH] Remove Invalidated Metadata

On reload, metadata will be cleared
---
 src/main/java/org/bukkit/metadata/MetadataStoreBase.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
index 28f35fd..75e9dd7 100644
--- a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
+++ b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
@@ -103,7 +103,7 @@ public abstract class MetadataStoreBase<T> {
         Validate.notNull(owningPlugin, "Plugin cannot be null");
         for (Map<Plugin, MetadataValue> values : metadataMap.values()) {
             if (values.containsKey(owningPlugin)) {
-                values.get(owningPlugin).invalidate();
+                values.remove(owningPlugin); // Spigot - Remove bad metadata, invalidate() is not implemented
             }
         }
     }
-- 
1.8.4

