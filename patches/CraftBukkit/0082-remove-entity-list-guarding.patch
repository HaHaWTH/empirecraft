From 02dd8ba0e0c87e84b1a9fb6a9a28f31e5804d5f7 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 13 Nov 2014 18:39:15 -0500
Subject: [PATCH] remove entity list guarding

this likely affects JVM optimizations
---
 src/main/java/net/minecraft/server/World.java | 25 +------------------------
 1 file changed, 1 insertion(+), 24 deletions(-)

diff --git a/src/main/java/net/minecraft/server/World.java b/src/main/java/net/minecraft/server/World.java
index 5e95c0f..41d5bfa 100644
--- a/src/main/java/net/minecraft/server/World.java
+++ b/src/main/java/net/minecraft/server/World.java
@@ -32,30 +32,7 @@ public abstract class World implements IBlockAccess {
 
     public boolean d;
     // Spigot start - guard entity list from removals
-    public List entityList = new ArrayList()
-    {
-        @Override
-        public Object remove(int index)
-        {
-            guard();
-            return super.remove( index );
-        }
-
-        @Override
-        public boolean remove(Object o)
-        {
-            guard();
-            return super.remove( o );
-        }
-
-        private void guard()
-        {
-            if ( guardEntityList )
-            {
-                throw new java.util.ConcurrentModificationException();
-            }
-        }
-    };
+    public List entityList = new ArrayList();
     // Spigot end
     protected List f = new ArrayList();
     public Set tileEntityList = new HashSet(); // CraftBukkit - ArrayList -> HashSet
-- 
1.9.1

