From 8a9cb2eac9af56fceb3492b0506d5ff1b9b6347f Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Wed, 31 Oct 2012 23:26:58 -0400
Subject: [PATCH 4/8] EMC POM changes

---
 pom.xml |   46 +++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 41 insertions(+), 5 deletions(-)

diff --git a/pom.xml b/pom.xml
index e0a699c..dcadaf7 100644
--- a/pom.xml
+++ b/pom.xml
@@ -1,7 +1,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
   <modelVersion>4.0.0</modelVersion>
-  <groupId>org.bukkit</groupId>
+  <groupId>com.empireminecraft</groupId>
   <artifactId>craftbukkit</artifactId>
   <packaging>jar</packaging>
   <version>1.4.6-R0.4-SNAPSHOT</version>
@@ -39,6 +39,9 @@
     <repository>
       <id>repobo-snap</id>
       <url>http://repo.bukkit.org/content/groups/public</url>
+      <snapshots>
+        <updatePolicy>always</updatePolicy>
+      </snapshots>
     </repository>
   </repositories>
 
@@ -51,7 +54,7 @@
 
   <dependencies>
     <dependency>
-      <groupId>org.bukkit</groupId>
+      <groupId>com.empireminecraft</groupId>
       <artifactId>bukkit</artifactId>
       <version>${project.version}</version>
       <type>jar</type>
@@ -65,6 +68,13 @@
       <scope>compile</scope>
     </dependency>
     <dependency>
+      <groupId>c3p0</groupId>
+      <artifactId>c3p0</artifactId>
+      <version>0.9.1.2</version>
+      <type>jar</type>
+      <scope>compile</scope>
+    </dependency>
+    <dependency>
       <groupId>net.sf.jopt-simple</groupId>
       <artifactId>jopt-simple</artifactId>
       <version>3.2</version>
@@ -154,6 +164,7 @@
 
   <!-- This builds a completely 'ready to start' jar with all dependencies inside -->
   <build>
+    <finalName>craftbukkit</finalName>
     <defaultGoal>clean install</defaultGoal>
     <plugins>
       <plugin>
@@ -281,10 +292,10 @@
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-compiler-plugin</artifactId>
-        <version>2.0.2</version>
+        <version>3.0</version>
         <configuration>
-          <source>1.5</source>
-          <target>1.5</target>
+          <source>1.7</source>
+          <target>1.7</target>
         </configuration>
       </plugin>
       <plugin>
@@ -299,6 +310,31 @@
             </excludes>
         </configuration>
       </plugin>
+      <plugin>
+        <artifactId>maven-antrun-plugin</artifactId>
+        <version>1.7</version>
+        <executions>
+          <execution>
+            <phase>install</phase>
+            <configuration>
+              <target>
+                <copy tofile="${basedir}/../../Library/craftbukkit.jar">
+                  <fileset dir="${basedir}/target" includes="craftbukkit.jar" />
+                </copy>
+                <copy tofile="${basedir}/../../../EMC-Test-Server/minecraft_server.jar">
+                  <fileset dir="${basedir}/target" includes="craftbukkit.jar" />
+                </copy>
+                <copy tofile="${basedir}/../../../EMC-Core/server/minecraft_server.jar">
+                  <fileset dir="${basedir}/target" includes="craftbukkit.jar" />
+                </copy>
+              </target>
+            </configuration>
+            <goals>
+              <goal>run</goal>
+            </goals>
+          </execution>
+        </executions>
+      </plugin> 
     </plugins>
     <pluginManagement>
       <plugins>
-- 
1.7.10.4

