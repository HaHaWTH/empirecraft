From c1c691810d0d39c3ebce539512f43d7067afb225 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 28 Dec 2013 21:17:45 -0500
Subject: [PATCH] Block EnderPearl Travel exploit

---
 src/main/java/net/minecraft/server/EntityProjectile.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/main/java/net/minecraft/server/EntityProjectile.java b/src/main/java/net/minecraft/server/EntityProjectile.java
index 10c242c..d600a0f 100644
--- a/src/main/java/net/minecraft/server/EntityProjectile.java
+++ b/src/main/java/net/minecraft/server/EntityProjectile.java
@@ -232,6 +232,7 @@ public abstract class EntityProjectile extends Entity implements IProjectile {
         this.inBlockId = Block.e(nbttagcompound.getByte("inTile") & 255);
         this.shake = nbttagcompound.getByte("shake") & 255;
         this.inGround = nbttagcompound.getByte("inGround") == 1;
+        if (this instanceof EntityEnderPearl) return; // EMC - Chunk reloads should not keep owner
         this.shooterName = nbttagcompound.getString("ownerName");
         if (this.shooterName != null && this.shooterName.length() == 0) {
             this.shooterName = null;
-- 
1.8.3.2

