From a8b475973e2d8ccab726b60791b2b5c5da787b3d Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 9 Oct 2014 21:00:27 -0400
Subject: [PATCH] Hide RCON Connection Message

---
 src/main/java/net/minecraft/server/RemoteControlSession.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/RemoteControlSession.java b/src/main/java/net/minecraft/server/RemoteControlSession.java
index bb0c7f3..568c426 100644
--- a/src/main/java/net/minecraft/server/RemoteControlSession.java
+++ b/src/main/java/net/minecraft/server/RemoteControlSession.java
@@ -29,7 +29,7 @@ public class RemoteControlSession extends RemoteConnectionThread {
         }
 
         this.l = iminecraftserver.a("rcon.password", "");
-        this.info("Rcon connection from: " + socket.getInetAddress());
+        // this.info("Rcon connection from: " + socket.getInetAddress()); // EMC
     }
 
     public void run() {
@@ -110,6 +110,7 @@ public class RemoteControlSession extends RemoteConnectionThread {
     private void a(int i, int j, String s) {
         ByteArrayOutputStream bytearrayoutputstream = new ByteArrayOutputStream(1248);
         DataOutputStream dataoutputstream = new DataOutputStream(bytearrayoutputstream);
+        try { // EMC
         byte[] abyte = s.getBytes("UTF-8");
 
         dataoutputstream.writeInt(Integer.reverseBytes(abyte.length + 10));
@@ -119,6 +120,7 @@ public class RemoteControlSession extends RemoteConnectionThread {
         dataoutputstream.write(0);
         dataoutputstream.write(0);
         this.j.getOutputStream().write(bytearrayoutputstream.toByteArray());
+        } catch(IOException ignored){} // EMC
     }
 
     private void f() {
-- 
1.9.1

