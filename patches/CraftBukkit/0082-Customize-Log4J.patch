From 2bcca92be5627be2f5bfe6a2bf176499e6706bba Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 13 Nov 2014 19:24:30 -0500
Subject: [PATCH] Customize Log4J

Don't write to disk so much
---
 src/main/resources/log4j2.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/resources/log4j2.xml b/src/main/resources/log4j2.xml
index 65c09a8..a8609cd 100644
--- a/src/main/resources/log4j2.xml
+++ b/src/main/resources/log4j2.xml
@@ -5,7 +5,7 @@
         <Queue name="TerminalConsole">
             <PatternLayout pattern="[%d{HH:mm:ss} %level]: %msg%n" />
         </Queue>
-        <RollingRandomAccessFile name="File" fileName="logs/latest.log" filePattern="logs/%d{yyyy-MM-dd}-%i.log.gz">
+        <RollingRandomAccessFile name="File" fileName="logs/latest.log" filePattern="logs/%d{yyyy-MM-dd}-%i.log.gz" immediateFlush="false">
             <PatternLayout pattern="[%d{HH:mm:ss}] [%t/%level]: %msg%n" />
             <Policies>
                 <TimeBasedTriggeringPolicy />
@@ -19,7 +19,7 @@
                 <MarkerFilter marker="NETWORK_PACKETS" onMatch="DENY" onMismatch="NEUTRAL" />
             </filters>
             <AppenderRef ref="WINDOWS_COMPAT" level="info"/>
-            <AppenderRef ref="File"/>
+            <AppenderRef ref="File" level="info" />
             <AppenderRef ref="TerminalConsole" level="info"/>
         </Root>
     </Loggers>
-- 
1.9.1

