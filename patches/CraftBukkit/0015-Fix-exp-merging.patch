From a03104fdefa1de5954be7f35f6a797c48f1aeeca Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 24 Jan 2013 21:07:45 -0500
Subject: [PATCH] Fix exp merging

---
 src/main/java/net/minecraft/server/World.java | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/src/main/java/net/minecraft/server/World.java b/src/main/java/net/minecraft/server/World.java
index be29bab..53383ad 100644
--- a/src/main/java/net/minecraft/server/World.java
+++ b/src/main/java/net/minecraft/server/World.java
@@ -928,8 +928,8 @@ public abstract class World implements IBlockAccess {
             event = CraftEventFactory.callCreatureSpawnEvent((EntityLiving) entity, spawnReason);
         } else if (entity instanceof EntityItem) {
             event = CraftEventFactory.callItemSpawnEvent((EntityItem) entity);
-            // Spigot start
-            if (entity instanceof EntityExperienceOrb) {
+        // Spigot start
+        } else if (entity instanceof EntityExperienceOrb) {
             EntityExperienceOrb xp = (EntityExperienceOrb) entity;
             double radius = this.getWorld().expMergeRadius;
             if (radius > 0) {
@@ -944,8 +944,7 @@ public abstract class World implements IBlockAccess {
                     }
                 }
             }
-            }
-            // Spigot end
+        // Spigot end
         } else if (entity.getBukkitEntity() instanceof org.bukkit.entity.Projectile) {
             // Not all projectiles extend EntityProjectile, so check for Bukkit interface instead
             event = CraftEventFactory.callProjectileLaunchEvent(entity);
-- 
1.8.0.3

