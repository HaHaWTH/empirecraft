From fda0f182d84c16f057cc118a12adc0c0b45725c6 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Wed, 6 May 2015 02:29:30 -0400
Subject: [PATCH] Limit worlds structures can generate

---
 src/main/java/net/minecraft/server/StructureGenerator.java | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/main/java/net/minecraft/server/StructureGenerator.java b/src/main/java/net/minecraft/server/StructureGenerator.java
index fb8c239..40cd619 100644
--- a/src/main/java/net/minecraft/server/StructureGenerator.java
+++ b/src/main/java/net/minecraft/server/StructureGenerator.java
@@ -16,7 +16,9 @@ public abstract class StructureGenerator extends WorldGenBase {
 
     public abstract String a();
 
+    List<String> allowed =  com.google.common.collect.Lists.newArrayList("wilderness", "wilderness_nether", "wastelands", "wastelands_nether"); // EMC
     protected final void a(World world, final int i, final int j, int k, int l, ChunkSnapshot chunksnapshot) {
+        if (!allowed.contains(world.getWorld().getName())) return; // EMC
         this.a(world);
         if (!this.e.containsKey(Long.valueOf(ChunkCoordIntPair.a(i, j)))) {
             this.b.nextInt();
-- 
1.9.1

