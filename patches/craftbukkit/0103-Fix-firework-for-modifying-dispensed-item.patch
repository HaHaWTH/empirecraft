From d6f2eeeb81374ce9eb00a12a53f35c5f026498f7 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 13 Jun 2015 22:10:40 -0400
Subject: [PATCH] Fix firework for modifying dispensed item

---
 src/main/java/net/minecraft/server/DispenserRegistry.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/DispenserRegistry.java b/src/main/java/net/minecraft/server/DispenserRegistry.java
index c26e530..0309c76 100644
--- a/src/main/java/net/minecraft/server/DispenserRegistry.java
+++ b/src/main/java/net/minecraft/server/DispenserRegistry.java
@@ -154,7 +154,7 @@ public class DispenserRegistry {
                     }
                 }
 
-                EntityFireworks entityfireworks = new EntityFireworks(isourceblock.i(), d0, d1, d2, itemstack);
+                EntityFireworks entityfireworks = new EntityFireworks(isourceblock.i(), d0, d1, d2, CraftItemStack.asNMSCopy(event.getItem())); // EMC
 
                 isourceblock.i().addEntity(entityfireworks);
                 // itemstack.a(1); // Handled during event processing
-- 
1.9.1

