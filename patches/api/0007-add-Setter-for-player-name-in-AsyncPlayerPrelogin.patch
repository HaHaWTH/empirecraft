From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Wed, 28 Jan 2015 00:41:03 -0500
Subject: [PATCH] add Setter for player name in AsyncPlayerPrelogin

This is so we can change the players name early in login process
---
 .../org/bukkit/event/player/AsyncPlayerPreLoginEvent.java  | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/src/main/java/org/bukkit/event/player/AsyncPlayerPreLoginEvent.java b/src/main/java/org/bukkit/event/player/AsyncPlayerPreLoginEvent.java
index 184d9462ebbc500d8b81aaf14fe138d247bf2470..d26b8283bb481da9e2f586484b5c6acc807415eb 100644
--- a/src/main/java/org/bukkit/event/player/AsyncPlayerPreLoginEvent.java
+++ b/src/main/java/org/bukkit/event/player/AsyncPlayerPreLoginEvent.java
@@ -222,6 +222,13 @@ public class AsyncPlayerPreLoginEvent extends Event {
     public String getName() {
         return profile.getName(); // Paper
     }
+    // EMC start
+    public void setName(String name) {
+        PlayerProfile newProfile = Bukkit.createProfile(this.profile.getId(), name);
+        newProfile.setProperties(profile.getProperties());
+        this.profile = newProfile;
+    }
+    // EMC end
 
     /**
      * Gets the player IP address.
