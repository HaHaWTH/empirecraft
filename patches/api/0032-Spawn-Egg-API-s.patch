From 66a700f065915ea934e736e3f9a0b1c0c5ce7437 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 3 Dec 2016 22:08:01 -0500
Subject: [PATCH] Spawn Egg API's

---
 .../java/com/empireminecraft/api/EAPI_Misc.java     | 21 +++++++++++++++++++++
 .../customevents/MonsterEggPrepareSpawnEvent.java   |  9 ++++++++-
 2 files changed, 29 insertions(+), 1 deletion(-)

diff --git a/src/main/java/com/empireminecraft/api/EAPI_Misc.java b/src/main/java/com/empireminecraft/api/EAPI_Misc.java
index 1cce64ab..22dfe478 100644
--- a/src/main/java/com/empireminecraft/api/EAPI_Misc.java
+++ b/src/main/java/com/empireminecraft/api/EAPI_Misc.java
@@ -23,5 +23,26 @@
 
 package com.empireminecraft.api;
 
+import com.destroystokyo.paper.MinecraftKey;
+import org.bukkit.entity.EntityType;
+import org.bukkit.inventory.ItemStack;
+
+import javax.annotation.Nonnull;
+
 public abstract class EAPI_Misc {
+
+    /**
+     * Gets Registered Entity Type for this spawn egg.
+     * @param bukkitItem
+     * @return
+     */
+    public abstract EntityType getTypeForSpawnEgg(@Nonnull ItemStack bukkitItem);
+
+    /**
+     * Changes the type of a Spawn Egg and returns new itemstack. ALWAYS USE THE RETURNED STACK
+     * @param bukkitItem
+     * @param key
+     * @return
+     */
+    public abstract ItemStack spawnEggAsType(@Nonnull ItemStack bukkitItem, @Nonnull MinecraftKey key);
 }
diff --git a/src/main/java/com/empireminecraft/customevents/MonsterEggPrepareSpawnEvent.java b/src/main/java/com/empireminecraft/customevents/MonsterEggPrepareSpawnEvent.java
index 0f28913d..86471631 100644
--- a/src/main/java/com/empireminecraft/customevents/MonsterEggPrepareSpawnEvent.java
+++ b/src/main/java/com/empireminecraft/customevents/MonsterEggPrepareSpawnEvent.java
@@ -13,6 +13,7 @@ import org.bukkit.entity.LivingEntity;
 import org.bukkit.event.Cancellable;
 import org.bukkit.event.Event;
 import org.bukkit.event.HandlerList;
+import org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason;
 import org.bukkit.inventory.ItemStack;
 
 import javax.annotation.Nonnull;
@@ -22,11 +23,17 @@ public class MonsterEggPrepareSpawnEvent extends Event implements Cancellable {
     private final HumanEntity player;
     private MinecraftKey typeKey;
     private final ItemStack item;
+    private final SpawnReason spawnReason;
 
-    public MonsterEggPrepareSpawnEvent(HumanEntity player, MinecraftKey typeKey, ItemStack item) {
+    public MonsterEggPrepareSpawnEvent(HumanEntity player, MinecraftKey typeKey, ItemStack item, SpawnReason spawnReason) {
         this.player = player;
         this.typeKey = typeKey;
         this.item = item;
+        this.spawnReason = spawnReason;
+    }
+
+    @Nonnull public SpawnReason getSpawnReason() {
+        return spawnReason;
     }
 
     @Nullable public HumanEntity getPlayer() {
-- 
2.11.0

