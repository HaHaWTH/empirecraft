From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sun, 19 Oct 2014 02:32:26 -0400
Subject: [PATCH] Exterminate the chickeneer - EMC-610

Wipe out chickens when the Jockey is killed.
---
 .../net/minecraft/world/entity/animal/EntityChicken.java   | 7 +++++++
 .../net/minecraft/world/entity/monster/EntityZombie.java   | 1 +
 2 files changed, 8 insertions(+)

diff --git a/src/main/java/net/minecraft/world/entity/animal/EntityChicken.java b/src/main/java/net/minecraft/world/entity/animal/EntityChicken.java
index cd6fb8efb20a2d32de59d479b1dbf5ee69d5df37..ff43f05e8d146e18387a5a0c67e5b654aa5c93d6 100644
--- a/src/main/java/net/minecraft/world/entity/animal/EntityChicken.java
+++ b/src/main/java/net/minecraft/world/entity/animal/EntityChicken.java
@@ -156,6 +156,13 @@ public class EntityChicken extends EntityAnimal {
 
     }
 
+    // EMC start
+    @Override
+    public boolean d(NBTTagCompound nbttagcompound) {
+        return (!(isChickenJockey() && !isVehicle())) && super.d(nbttagcompound);
+    }
+    // EMC end
+
     @Override
     public void saveData(NBTTagCompound nbttagcompound) {
         super.saveData(nbttagcompound);
diff --git a/src/main/java/net/minecraft/world/entity/monster/EntityZombie.java b/src/main/java/net/minecraft/world/entity/monster/EntityZombie.java
index ca31bb5f2229ab635ea126e317c2f32e3cf078ca..c8a1fa638c3c7fd499d74b160e371e6a2afd5531 100644
--- a/src/main/java/net/minecraft/world/entity/monster/EntityZombie.java
+++ b/src/main/java/net/minecraft/world/entity/monster/EntityZombie.java
@@ -595,6 +595,7 @@ public class EntityZombie extends EntityMonster {
         super.dropDeathLoot(damagesource, i, flag);
         Entity entity = damagesource.getEntity();
 
+        if (getVehicle() instanceof EntityChicken) {((EntityLiving) getVehicle()).die(damagesource);} // EMC
         if (entity instanceof EntityCreeper) {
             EntityCreeper entitycreeper = (EntityCreeper) entity;
 
