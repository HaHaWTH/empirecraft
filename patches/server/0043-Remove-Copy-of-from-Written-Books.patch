From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Fri, 15 May 2015 21:21:19 -0400
Subject: [PATCH] Remove "Copy of" from Written Books

---
 src/main/java/net/minecraft/world/item/ItemStack.java           | 1 +
 .../java/net/minecraft/world/item/crafting/RecipeBookClone.java | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/world/item/ItemStack.java b/src/main/java/net/minecraft/world/item/ItemStack.java
index e2570c74c2574eea5ea471ccfa70ea034ee6d53e..8d832b717bf43dae36e06e46a1c562e2f4a860ec 100644
--- a/src/main/java/net/minecraft/world/item/ItemStack.java
+++ b/src/main/java/net/minecraft/world/item/ItemStack.java
@@ -222,6 +222,7 @@ public final class ItemStack {
             this.tag = (NBTTagCompound) nbttagcompound.getCompound("tag").clone();
             processEnchantOrder(this.tag); // Paper
             processText(); // Paper
+            if (item == Items.WRITTEN_BOOK && tag.hasKey("generation")) tag.remove("generation"); // EMC
             this.getItem().b(this.tag);
             // CraftBukkit end
         }
diff --git a/src/main/java/net/minecraft/world/item/crafting/RecipeBookClone.java b/src/main/java/net/minecraft/world/item/crafting/RecipeBookClone.java
index 0bd6ac9154405885434674865b1e8ab3656ac87f..85e72e6462f5d36691d9721cc0ea9c2515bf3c25 100644
--- a/src/main/java/net/minecraft/world/item/crafting/RecipeBookClone.java
+++ b/src/main/java/net/minecraft/world/item/crafting/RecipeBookClone.java
@@ -70,7 +70,7 @@ public class RecipeBookClone extends IRecipeComplex {
             ItemStack itemstack2 = new ItemStack(Items.WRITTEN_BOOK, i);
             NBTTagCompound nbttagcompound = itemstack.getTag().clone();
 
-            nbttagcompound.setInt("generation", ItemWrittenBook.d(itemstack) + 1);
+            //nbttagcompound.setInt("generation", ItemWrittenBook.d(itemstack) + 1); // EMC
             itemstack2.setTag(nbttagcompound);
             return itemstack2;
         } else {
