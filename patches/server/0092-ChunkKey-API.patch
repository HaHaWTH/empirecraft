From b2a9bcb6727008542852fce6951d50c8bc61ab14 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 17 May 2016 19:46:42 -0400
Subject: [PATCH] ChunkKey API

---
 src/main/java/org/bukkit/craftbukkit/CraftChunk.java | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/src/main/java/org/bukkit/craftbukkit/CraftChunk.java b/src/main/java/org/bukkit/craftbukkit/CraftChunk.java
index f7d8dec..71c5e03 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftChunk.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftChunk.java
@@ -21,6 +21,22 @@ public class CraftChunk implements Chunk {
     private static final byte[] emptyData = new byte[2048];
     private static final short[] emptyBlockIDs = new short[4096];
     private static final byte[] emptySkyLight = new byte[2048];
+    // EMC start
+    private final com.empireminecraft.ChunkKey chunkKey;
+    public com.empireminecraft.ChunkKey getKey() {
+        return chunkKey;
+    }
+
+    @Override
+    public int hashCode() {
+        return chunkKey.hashCode();
+    }
+
+    @Override
+    public boolean equals(Object obj) {
+        return obj instanceof Chunk && chunkKey.equals(((Chunk) obj).getKey());
+    }
+    // EMC stop
 
     public CraftChunk(net.minecraft.server.Chunk chunk) {
         this.weakChunk = new WeakReference<net.minecraft.server.Chunk>(chunk);
@@ -28,6 +44,7 @@ public class CraftChunk implements Chunk {
         worldServer = (WorldServer) getHandle().world;
         x = getHandle().locX;
         z = getHandle().locZ;
+        chunkKey = new com.empireminecraft.ChunkKey(worldServer.getWorld(), x, z); // EMC
     }
 
     public World getWorld() {
-- 
2.8.2

