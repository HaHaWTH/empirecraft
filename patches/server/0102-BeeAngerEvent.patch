From b34956ac218d93c8d17c10ab226b2758646a8f63 Mon Sep 17 00:00:00 2001
From: chickeneer <emcchickeneer@gmail.com>
Date: Sat, 7 Mar 2020 10:32:04 -0600
Subject: [PATCH] BeeAngerEvent

---
 src/main/java/net/minecraft/server/EntityBee.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/EntityBee.java b/src/main/java/net/minecraft/server/EntityBee.java
index c7d79efdf6..bd1f258629 100644
--- a/src/main/java/net/minecraft/server/EntityBee.java
+++ b/src/main/java/net/minecraft/server/EntityBee.java
@@ -542,7 +542,14 @@ public class EntityBee extends EntityAnimal implements EntityBird {
     }
 
     public boolean a(Entity entity) {
-        this.setAnger(400 + this.random.nextInt(400));
+        // Paper start
+        com.destroystokyo.paper.event.entity.BeeAngerEvent event = new com.destroystokyo.paper.event.entity.BeeAngerEvent((org.bukkit.entity.Bee) this.getBukkitEntity(), (entity == null) ? null : entity.getBukkitEntity(), 400 + this.random.nextInt(400));
+        event.callEvent();
+        if (event.isCancelled()) {
+            return false;
+        }
+        this.setAnger(event.getNewAnger());
+        // Paper end
         if (entity instanceof EntityLiving) {
             this.setLastDamager((EntityLiving) entity);
         }
-- 
2.25.1

