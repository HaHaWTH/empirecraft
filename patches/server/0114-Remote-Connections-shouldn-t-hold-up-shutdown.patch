From e6780fa290344acdaca6130acf2d5717240044d5 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 19 Mar 2020 00:58:42 -0400
Subject: [PATCH] Remote Connections shouldn't hold up shutdown

Bugs in the connection logic appears to leave stale connections even, preventing shutdown
---
 src/main/java/net/minecraft/server/DedicatedServer.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/net/minecraft/server/DedicatedServer.java b/src/main/java/net/minecraft/server/DedicatedServer.java
index 8a241c28ad..35f62bd253 100644
--- a/src/main/java/net/minecraft/server/DedicatedServer.java
+++ b/src/main/java/net/minecraft/server/DedicatedServer.java
@@ -415,11 +415,11 @@ public class DedicatedServer extends MinecraftServer implements IMinecraftServer
         }
 
         if (this.remoteControlListener != null) {
-            this.remoteControlListener.b();
+            //this.remoteControlListener.b(); // Paper - don't wait for remote connections
         }
 
         if (this.remoteStatusListener != null) {
-            this.remoteStatusListener.b();
+            //this.remoteStatusListener.b(); // Paper - don't wait for remote connections
         }
 
         System.exit(0); // CraftBukkit
-- 
2.25.1

