From eb1bea6e4191949e0a6c194183a8b1f2e0a4bc3e Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 26 Mar 2020 03:10:33 -0400
Subject: [PATCH] Remove moving immunity from mobs except for player targets

---
 src/main/java/org/spigotmc/ActivationRange.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/spigotmc/ActivationRange.java b/src/main/java/org/spigotmc/ActivationRange.java
index 46efeb12c7..391a8c5e59 100644
--- a/src/main/java/org/spigotmc/ActivationRange.java
+++ b/src/main/java/org/spigotmc/ActivationRange.java
@@ -22,6 +22,7 @@ import net.minecraft.server.EntityHuman;
 import net.minecraft.server.EntityLightning;
 import net.minecraft.server.EntityLiving;
 import net.minecraft.server.EntityMonster;
+import net.minecraft.server.EntityPlayer;
 import net.minecraft.server.EntityProjectile;
 import net.minecraft.server.EntityRaider;
 import net.minecraft.server.EntitySheep;
@@ -227,7 +228,7 @@ public class ActivationRange
             {
                 return true;
             }
-            if ( entity instanceof EntityCreature && (( (EntityCreature) entity ).getGoalTarget() != null || ( (EntityCreature) entity ).getMovingTarget() != null)) // Paper
+            if ( entity instanceof EntityCreature && (( (EntityCreature) entity ).getGoalTarget() instanceof EntityPlayer /*|| ( (EntityCreature) entity ).getMovingTarget() != null*/)) // Paper // EMC
             {
                 return true;
             }
-- 
2.25.1

