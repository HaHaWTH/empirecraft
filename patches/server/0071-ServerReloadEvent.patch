From ccc59189db8f541e6c8830e38d5e081f9f7edfb5 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 25 Jun 2015 21:00:09 -0400
Subject: [PATCH] ServerReloadEvent

---
 .../customevents/ServerReloadEvent.java              | 20 ++++++++++++++++++++
 .../java/org/bukkit/craftbukkit/CraftServer.java     |  1 +
 2 files changed, 21 insertions(+)
 create mode 100644 src/main/java/com/empireminecraft/customevents/ServerReloadEvent.java

diff --git a/src/main/java/com/empireminecraft/customevents/ServerReloadEvent.java b/src/main/java/com/empireminecraft/customevents/ServerReloadEvent.java
new file mode 100644
index 000000000..2a5b39d8b
--- /dev/null
+++ b/src/main/java/com/empireminecraft/customevents/ServerReloadEvent.java
@@ -0,0 +1,20 @@
+package com.empireminecraft.customevents;
+
+import org.bukkit.event.Event;
+import org.bukkit.event.HandlerList;
+
+public class ServerReloadEvent extends Event {
+    public ServerReloadEvent() {
+    }
+
+
+    private static final HandlerList handlers = new HandlerList();
+
+    public HandlerList getHandlers() {
+        return handlers;
+    }
+
+    public static HandlerList getHandlerList() {
+        return handlers;
+    }
+}
diff --git a/src/main/java/org/bukkit/craftbukkit/CraftServer.java b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
index b33c50c29..2af367072 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftServer.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
@@ -686,6 +686,7 @@ public final class CraftServer implements Server {
 
     @Override
     public void reload() {
+        new com.empireminecraft.customevents.ServerReloadEvent().callEvent(); // EMC
         reloadCount++;
         configuration = YamlConfiguration.loadConfiguration(getConfigFile());
         commandsConfiguration = YamlConfiguration.loadConfiguration(getCommandsConfigFile());
-- 
2.11.0

