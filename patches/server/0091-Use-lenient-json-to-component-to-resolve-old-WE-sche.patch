From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: chickeneer <emcchickeneer@gmail.com>
Date: Sun, 26 Jan 2020 23:28:04 -0600
Subject: [PATCH] Use lenient json to component to resolve old WE schematic
 issue

---
 .../java/net/minecraft/network/chat/IChatBaseComponent.java     | 1 +
 src/main/java/net/minecraft/server/MCUtil.java                  | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/network/chat/IChatBaseComponent.java b/src/main/java/net/minecraft/network/chat/IChatBaseComponent.java
index a002125e454f8a86924e9010e0b20a95742fa04b..2ba2991fe72d970e3f956a9c01caa544e538f914 100644
--- a/src/main/java/net/minecraft/network/chat/IChatBaseComponent.java
+++ b/src/main/java/net/minecraft/network/chat/IChatBaseComponent.java
@@ -376,6 +376,7 @@ public interface IChatBaseComponent extends Message, IChatFormatted, Iterable<IC
             return (IChatMutableComponent) IChatBaseComponent.ChatSerializer.a.fromJson(jsonelement, IChatMutableComponent.class);
         }
 
+        @Nullable public static IChatBaseComponent lenientJsonToComponent(String json) { return b(json);} // EMC OBFHELPER
         @Nullable
         public static IChatMutableComponent b(String s) {
             return (IChatMutableComponent) ChatDeserializer.a(IChatBaseComponent.ChatSerializer.a, s, IChatMutableComponent.class, true);
diff --git a/src/main/java/net/minecraft/server/MCUtil.java b/src/main/java/net/minecraft/server/MCUtil.java
index 1d72af9cace7aa8f1d20c7c1c5be621f533e2dad..4a6d38d6deff58b5e568814978eb1838deadd440 100644
--- a/src/main/java/net/minecraft/server/MCUtil.java
+++ b/src/main/java/net/minecraft/server/MCUtil.java
@@ -541,7 +541,7 @@ public final class MCUtil {
         }
         String string = compound.getString(key);
         try {
-            return IChatBaseComponent.ChatSerializer.jsonToComponent(string);
+            return IChatBaseComponent.ChatSerializer.lenientJsonToComponent(string); // EMC - use lenient json to component
         } catch (com.google.gson.JsonParseException e) {
             org.bukkit.Bukkit.getLogger().warning("Unable to parse " + key + " from " + compound +": " + e.getMessage());
         }
