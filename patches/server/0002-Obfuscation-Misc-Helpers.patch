From e80138464be8949a8df26ce0c3cc804cd4a0a7b2 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sun, 10 Apr 2016 22:50:33 -0400
Subject: [PATCH] Obfuscation / Misc Helpers

---
 src/main/java/net/minecraft/server/Entity.java | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/Entity.java b/src/main/java/net/minecraft/server/Entity.java
index 49e6661..963ff5a 100644
--- a/src/main/java/net/minecraft/server/Entity.java
+++ b/src/main/java/net/minecraft/server/Entity.java
@@ -65,9 +65,23 @@ public abstract class Entity implements ICommandListener {
     private static int entityCount;
     private int id;
     public boolean i;
+    // EMC start
+    public List<Entity> passengersPrev = Lists.newArrayList();
+    public List<Entity> saveAndClearPassengers() {
+        passengersPrev.clear();;
+        passengersPrev.addAll(passengers);
+        passengers.clear();
+        return passengersPrev;
+    }
+    public void restorePassengers() {
+        passengers.clear();
+        passengers.addAll(passengersPrev);
+        passengersPrev.clear();
+    }
+    // EMC end
     public final List<Entity> passengers;
     protected int j;
-    private Entity as;
+    private Entity as;public void setVehicleDirect(Entity veh) { this.as = veh; }public Entity getVehicleDirect() { return this.as; } // EMC // OBF HELPER
     public boolean attachedToPlayer;
     public World world;
     public double lastX;
-- 
2.8.1

