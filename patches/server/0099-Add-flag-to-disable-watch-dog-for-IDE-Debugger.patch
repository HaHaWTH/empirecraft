From ae9353be4f6bd57298fbe771f83836f7dc188f8e Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 5 Dec 2017 22:33:01 -0500
Subject: [PATCH] Add flag to disable watch dog for IDE Debugger

---
 src/main/java/org/spigotmc/SpigotConfig.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/spigotmc/SpigotConfig.java b/src/main/java/org/spigotmc/SpigotConfig.java
index f9aa525bc5..8821cb7d38 100644
--- a/src/main/java/org/spigotmc/SpigotConfig.java
+++ b/src/main/java/org/spigotmc/SpigotConfig.java
@@ -224,7 +224,7 @@ public class SpigotConfig
         restartScript = getString( "settings.restart-script", restartScript );
         restartMessage = transform( getString( "messages.restart", "Server is restarting" ) );
         commands.put( "restart", new RestartCommand( "restart" ) );
-        WatchdogThread.doStart( timeoutTime, restartOnCrash );
+        if (!Boolean.getBoolean("disable-watchdog")) WatchdogThread.doStart( timeoutTime, restartOnCrash ); // EMC
     }
 
     public static boolean bungee;
-- 
2.15.1

