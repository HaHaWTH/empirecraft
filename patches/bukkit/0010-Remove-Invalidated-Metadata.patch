From 205c2d164f4d71bac88d0212af22332c24744bc4 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 16 Jul 2013 21:26:50 -0400
Subject: [PATCH] Remove Invalidated Metadata

On reload, metadata will be cleared
---
 src/main/java/org/bukkit/metadata/MetadataStoreBase.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
index 093c144..fe1fb1f 100644
--- a/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
+++ b/src/main/java/org/bukkit/metadata/MetadataStoreBase.java
@@ -114,7 +114,7 @@ public abstract class MetadataStoreBase<T> {
         Validate.notNull(owningPlugin, "Plugin cannot be null");
         for (Map<Plugin, MetadataValue> values : metadataMap.values()) {
             if (values.containsKey(owningPlugin)) {
-                values.get(owningPlugin).invalidate();
+                values.remove(owningPlugin); // Spigot - Remove bad metadata, invalidate() is not implemented
             }
         }
     }
-- 
1.9.1

