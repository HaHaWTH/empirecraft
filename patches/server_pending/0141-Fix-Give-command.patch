From c7bb34b7a2f0e47803aed194ff920022ce0311ad Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Thu, 14 Jan 2016 00:49:14 -0500
Subject: [PATCH] Fix Give command

---
 src/main/java/net/minecraft/server/CommandGive.java | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/CommandGive.java b/src/main/java/net/minecraft/server/CommandGive.java
index 2449723..5900303 100644
--- a/src/main/java/net/minecraft/server/CommandGive.java
+++ b/src/main/java/net/minecraft/server/CommandGive.java
@@ -45,7 +45,7 @@ public class CommandGive extends CommandAbstract {
                 entityplayer.world.makeSound(entityplayer, "random.pop", 0.2F, ((entityplayer.bc().nextFloat() - entityplayer.bc().nextFloat()) * 0.7F + 1.0F) * 2.0F);
                 entityplayer.defaultContainer.b();
             }
-
+/* // EMC start - remove dropping
             EntityItem entityitem;
 
             if (flag && itemstack.count <= 0) {
@@ -63,6 +63,7 @@ public class CommandGive extends CommandAbstract {
                     entityitem.b(entityplayer.getName());
                 }
             }
+            */ // EMC end
 
             a(icommandlistener, this, "commands.give.success", new Object[] { itemstack.C(), Integer.valueOf(i), entityplayer.getName()});
         }
@@ -79,4 +80,11 @@ public class CommandGive extends CommandAbstract {
     public boolean isListStart(String[] astring, int i) {
         return i == 0;
     }
+
+    // CraftBukkit start - fix decompile error
+    @Override
+    public int compareTo(ICommand o) {
+        return a((ICommand) o);
+    }
+    // CraftBukkit end
 }
-- 
2.7.0

